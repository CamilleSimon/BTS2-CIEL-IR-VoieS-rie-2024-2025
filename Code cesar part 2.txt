// C++ code
//
int key;
int operation;
void setup()
{
    Serial.begin(9600);
  	String s ="hello";
    key = 6;
    chiffrement(s);
}

void loop()
{

  	char readChar = 0; // caractère à lire
	String s ="";
    int buff = Serial.available();

    while(buff > 0) // tant qu'il reste des caractères dans le buffer
    {
      	readChar = Serial.read(); // lecture du caractère
        s += readChar; // envoi du caractère
        buff = Serial.available(); // mise à jour du nombre de caratères restant
    }
}

void chiffrement(String message)
{
  for(int i=0;i<message.length();i++)
  {
	message[i] = 0; // caractère à lire
    int buff = Serial.available();
    while(buff > 0) // tant qu'il reste des caractères dans le buffer
    {
        message[i] = Serial.read(); // lecture du caractère
      	if(message[i]>=117)
        {
          message[i] = message[i] - 26;
        }
      	message[i] = message[i] + key;
        Serial.print(message[i]); // envoi du caractère
        buff = Serial.available(); // mise à jour du nombre de caratères restant
    }
  }
 }


void dechiffrement(String message)
{

  for(int i=0;i>message.length();i--)
  {
    message[i]= message[i]-key;
    message[i] = message[i] + 26;
  }
 	Serial.println(message);
}
