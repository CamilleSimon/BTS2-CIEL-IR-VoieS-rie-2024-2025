// C++ code
//
int key;
int operation;

void setup()
{
    Serial.begin(9600);
    String s = "hello";
    key = 6;
    chiffrement(s);
    dechiffrement(s);
}

void loop()
{ 
  char readChar = 0; // caractère à lire
  

    int buff = Serial.available();

    while(buff > 0) // tant qu'il reste des caractères dans le buffer
    {
       
        readChar = Serial.read(); // lecture du caractère
      if(readChar==122)
      {
        readChar= 96 + key ;
      }
      else
      {
      	readChar += key;
       	if(readChar>122)
      {
          readChar -=26;
      }
        }
       Serial.print(readChar); // envoi du caractère
       buff = Serial.available();// mise à jour du nombre de caratères restant
        
    }
}
void chiffrement(String message)
{
  for (int i=0;i<message.length();i++)
  {
    message[i] = message[i] + key;
  }
  Serial.println(message);
  
} 

void dechiffrement(String message)
{
  for (int i=0;i<message.length();i++)
  {
    message[i] = message[i] - key;
  }
  Serial.println(message);
  
} 



  
  
  
  
  
  
  
  
  
