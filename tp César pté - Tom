// C++ code
//
char readChar = 0;
int key=6;
int i;
int operation;
String s = "";
String total;
int buff;

void setup()
{
    // ouverture de la liaison à une vitesse de 9600 bits par seconde.
    Serial.begin(9600);
}
void chiffrement()
{
  while( buff > 0) // tant qu'il reste des caractères dans le buffer
    		{
       		readChar = Serial.read(); // lecture du caractère

      		readChar = readChar + key; // Pour chiffrer un message


      		if(readChar > 122)
       	 	{
         	readChar = readChar - 26 ; 
        	}
    		Serial.print(readChar); // envoi du caractère
        	buff = Serial.available(); // mise à jour du nombre de caratères restant
    		}
} 
void dechiffrement()
      	{

          	while(buff > 0) // tant qu'il reste des caractères dans le buffer
    		{
       		readChar = Serial.read(); // lecture du caractère

      		readChar = readChar - key; // Pour chiffrer un message


      		if(readChar > 122)
       	 	{
         	readChar = readChar + 26 ; 
        	}


        	Serial.print(readChar); // envoi du caractère
        	buff = Serial.available(); // mise à jour du nombre de caratères restant
    		}
        }
      
 
  
void loop()

{
    char readChar = 0; // caractère à lire

    int buff = Serial.available();

    while(buff > 0) // tant qu'il reste des caractères dans le buffer
    {
      readChar = Serial.read();// lecture du caractère
      int total = readChar + key;
      if(total > 'z')
      {
        total = total - 26;
      }
      readChar = total;
        Serial.print(readChar); // envoi du caractère
        buff = Serial.available(); // mise à jour du nombre de caratères restant
    }
  
}

